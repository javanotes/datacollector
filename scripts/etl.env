#!/bin/sh
# COPYRIGHT (C) ERICSSON INTERNET APPLICATIONS INC.
#
# THIS SOFTWARE IS FURNISHED UNDER A LICENSE ONLY AND IS
# PROPRIETARY TO ERICSSON INTERNET APPLICATIONS INC. IT MAY NOT BE COPIED
# EXCEPT WITH THE PRIOR WRITTEN PERMISSION OF ERICSSON INTERNET APPLICATIONS
# INC.  ANY COPY MUST INCLUDE THE ABOVE COPYRIGHT NOTICE AS
# WELL AS THIS PARAGRAPH.  THIS SOFTWARE OR ANY OTHER COPIES
# THEREOF, MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
# TO ANY OTHER PERSON OR ENTITY.
# TITLE TO AND OWNERSHIP OF THIS SOFTWARE SHALL AT ALL
# TIMES REMAIN WITH ERICSSON INTERNET APPLICATIONS INC.
#
#
# Required parameters
# -------------------
# COMPONENT_NAME     : the name to be printed out in info/error messages
# PROCESS_TO_MONITOR : the actual Java class (inc. the package) to be started/monitored
# LOG_FILE           : the log file for this component
# LOGROTATE_CONFIG   : the full path and name of the logrotate configuration file
# LOGROTATE_STATUS   : the full path and name of the logrotate status file
# START_CMD          : the command used to start the component
# RUN_AS             : the user that should be starting the process

INSTALLDIR=/home/esutdal/workspace/github/data-collector
JARDIR=${INSTALLDIR}/lib

COMPONENT_NAME="FMT Data Collector"
PROCESS_TO_MONITOR="DataCollector"
LOG_FILE=/home/esutdal/data-collector/run.log

# START_CMD is defined below
RUN_AS="mmas"

JAVA_HOME=/home/esutdal/Tools/jdk1.7.0_17/jre/bin/java

PATH=$JAVA_HOME/bin:$PATH

# Setup java class path
# Add lib directory to class path
libs=`ls $JARDIR/*.jar`
for lib in $libs
do
   CLASSPATH=$CLASSPATH":"$lib
done

export CLASSPATH

LD_LIBRARY_PATH=$JARDIR
export LD_LIBRARY_PATH

# Allow remote debug. Commented-out by default.
#JVM_FLAGS="$JVM_FLAGS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=4000"


JVM_FLAGS="$JVM_FLAGS -DCompType=${COMPTYPE}"

START_CMD="$JAVA_HOME/bin/java -server -D$PROCESS_TO_MONITOR $JVM_FLAGS -cp $CLASSPATH com.egi.etl.DataCollector"
export START_CMD
